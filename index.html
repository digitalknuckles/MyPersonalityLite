<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MBTI Personality Quiz</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f2f2f2;
      padding: 20px;
      text-align: center;
    }
    .container {
      max-width: 700px;
      background: white;
      margin: auto;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .question {
      font-size: 1.2rem;
      margin-bottom: 20px;
    }
    .option {
      background: #e0e0e0;
      border: none;
      margin: 10px 0;
      padding: 12px 20px;
      width: 100%;
      font-size: 1rem;
      border-radius: 5px;
      cursor: pointer;
    }
    .option:hover {
      background: #d4d4d4;
    }
    .result-img {
      width: 200px;
      height: 200px;
      margin: 20px auto;
    }
    .btn {
      background: #007bff;
      color: white;
      padding: 10px 20px;
      border: none;
      margin: 10px;
      border-radius: 5px;
      cursor: pointer;
    }
    .btn:hover {
      background: #0056b3;
    }
  </style>
</head>
<body>
<div class="container" id="quiz-container">
  <div id="quiz-content"></div>
</div>

<script>
const questions = [
  {
    question: 'How do you typically approach new experiences and ideas?',
    options: [
      { text: 'With enthusiasm and excitement', value: 'E' },
      { text: 'With careful consideration and analysis', value: 'I' },
      { text: 'With a desire for spontaneity and fun', value: 'P' },
      { text: 'With a focus on practicality and efficiency', value: 'J' },
    ]
  },
  {
    question: 'How do you prefer to organize your tasks and responsibilities?',
    options: [
      { text: 'I prefer to have a clear plan and structure', value: 'J' },
      { text: 'I tend to be flexible and adapt to changing situations', value: 'P' },
      { text: 'I like to keep things open-ended and go with the flow', value: 'P' },
      { text: 'I rely on my instincts and intuition to guide me', value: 'N' },
    ]
  },
  {
    question: 'How would you describe your social interactions?',
    options: [
      { text: 'I enjoy being the center of attention and meeting new people', value: 'E' },
      { text: 'I value close relationships and prefer smaller gatherings', value: 'I' },
      { text: 'I thrive in social settings and love engaging with others', value: 'E' },
      { text: 'I\'m more reserved and prefer one-on-one conversations', value: 'I' },
    ]
  },
  {
    question: 'How do you handle stress and pressure?',
    options: [
      { text: 'I tackle problems head-on and work towards solutions', value: 'T' },
      { text: 'I maintain a calm demeanor and prioritize self-care', value: 'F' },
      { text: 'I seek support from friends and loved ones', value: 'F' },
      { text: 'I focus on finding practical solutions and staying organized', value: 'J' },
    ]
  },
  {
    question: 'What motivates you in your career or personal pursuits?',
    options: [
      { text: 'I strive for innovation and making a positive impact', value: 'N' },
      { text: 'I value stability and achieving tangible results', value: 'S' },
      { text: 'I enjoy collaborating with others and building relationships', value: 'F' },
      { text: 'I pursue excellence and enjoy tackling challenges', value: 'T' },
    ]
  },
  {
    question: 'How do you approach decision-making?',
    options: [
      { text: 'I trust my intuition and follow my heart', value: 'F' },
      { text: 'I gather information and weigh the pros and cons', value: 'T' },
      { text: 'I seek advice from others and consider different perspectives', value: 'F' },
      { text: 'I rely on logic and rationality to guide my choices', value: 'T' },
    ]
  },
  {
    question: 'What role do you typically play in group settings or projects?',
    options: [
      { text: 'The initiator and idea generator', value: 'N' },
      { text: 'The organizer and planner', value: 'J' },
      { text: 'The collaborator and team player', value: 'F' },
      { text: 'The strategist and problem solver', value: 'T' },
    ]
  },
  {
    question: 'How do you prefer to communicate your thoughts and ideas?',
    options: [
      { text: 'I\'m expressive and enjoy sharing stories and experiences', value: 'E' },
      { text: 'I\'m direct and to the point, focusing on facts and details', value: 'S' },
      { text: 'I\'m empathetic and strive to connect with others emotionally', value: 'F' },
      { text: 'I\'m analytical and prefer logical reasoning and arguments', value: 'T' },
    ]
  },
  {
    question: 'What values are most important to you in your personal and professional life?',
    options: [
      { text: 'Creativity, freedom, and authenticity', value: 'N' },
      { text: 'Discipline, integrity, and responsibility', value: 'J' },
      { text: 'Compassion, harmony, and cooperation', value: 'F' },
      { text: 'Knowledge, competence, and independence', value: 'T' },
    ]
  },
  {
    question: 'How do you typically respond to conflicts or disagreements?',
    options: [
      { text: 'I seek resolution through compromise and understanding', value: 'F' },
      { text: 'I stand my ground and defend my beliefs', value: 'T' },
      { text: 'I avoid confrontation and strive for peace', value: 'F' },
      { text: 'I analyze the situation and find a practical solution', value: 'T' },
    ]
  }
];

const mbtiMap = {
  ISTP: 'ipfs://bafkreicih5xhnslzlebz7fhelnbea66btlzlb6mivvy3cldqymxgttqxn4',
  ISFP: 'ipfs://bafkreify4dcndvovzghrjetqvbtnjxap7trn7guumlkis7csbia3gvehpm',
  ISFJ: 'ipfs://bafkreig7nobb5nwmccntdrynvoy3bpbuznglmpjw7j432unuigxz3slaqe',
  INTP: 'ipfs://bafkreibbve27dzqsxsni36dq7vbob6ul4arbs66kazb7vpgqqpdgfhgiwq',
  INTJ: 'ipfs://bafkreigmkbp7zycuwptgqkvmktjadtkbwh4gj77voxaitj4n2fr4kwmtmy',
  INFP: 'ipfs://bafkreib7z472utphrmgsxbh5xujf5si2pstiigtshp7nre6nuzmdwqsjbq',
  INFJ: 'ipfs://bafkreievi25acxtt2ecn6ww745j6sptqd3ibhcnk2nceilz7o4b6xnugeq',
  ESTP: 'ipfs://bafkreicdp7pbfmepovoaefh3s5jmxviipbkajzgp44dncggijp2wo5q2ze',
  ESTJ: 'ipfs://bafkreiaawsinlo2wx6bpy4lwgzgj56vl3uc2nxbb7opmclxnyz5hz55v6e',
  ESFP: 'ipfs://bafkreigbvtntxgs3jxf5fcewyb54l3zfhgxanu2y3y5qi4kr2njyrrrzx4',
  ESFJ: 'ipfs://bafkreibl2ucmcegy5ir3owhp4n7mdt5txscuscdux3oeg3xellx5ueqp64',
  ENTP: 'ipfs://bafybeifhhnfnsm7ilmle5ldg4mo4yphr3ewyt7wpaassq7o6jf4xqhcrui',
  ENTJ: 'ipfs://bafkreidj2osjgcovhbwzhf3ypa6rihecfbowrzxao3b6msqpotstxwunae',
  ENFP: 'ipfs://bafkreibhxmmvxytbkg7f3eimlmwrhxqgut3tqi3hcffconjgxa6hiiz2yi',
  ENFJ: 'ipfs://bafkreifuv2qmqy4trzpqu3ua3tplrrzobzdva64izhs6673rromzskgusq'
};

let current = 0;
const score = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
const quizContent = document.getElementById('quiz-content');

function shuffle(array) {
  return array.sort(() => Math.random() - 0.5);
}

function showQuestion() {
  const q = questions[current];
  const shuffledOptions = shuffle([...q.options]);
  quizContent.innerHTML = `
    <div class="question">${q.question}</div>
    ${shuffledOptions.map(opt => `
      <button class="option" onclick="handleAnswer('${opt.value}')">${opt.text}</button>
    `).join('')}
  `;
}

function handleAnswer(value) {
  score[value]++;
  current++;
  if (current < questions.length) {
    showQuestion();
  } else {
    showResult();
  }
}

function getMBTI() {
  return (
    (score.I >= score.E ? 'I' : 'E') +
    (score.N >= score.S ? 'N' : 'S') +
    (score.F >= score.T ? 'F' : 'T') +
    (score.P >= score.J ? 'P' : 'J')
  );
}

function showResult() {
  const mbti = getMBTI();
  const cid = mbtiMap[mbti] || 'ipfs://placeholder';
  quizContent.innerHTML = `
    <h2>Your MBTI Type: ${mbti}</h2>
    <img class="result-img" src="${cid.replace('ipfs://', 'https://ipfs.io/ipfs/')}" alt="${mbti}" />
    <p>This is your personality-based NFT. You can now mint it:</p>
    <button class="btn" onclick="alert('Connect Wallet – Web3 Placeholder')">Connect Wallet</button>
    <button class="btn" onclick="alert('Mint NFT for ${mbti} – Web3 Placeholder')">Mint NFT</button>
  `;
}

// Start quiz
showQuestion();
</script>
</body>
</html>
